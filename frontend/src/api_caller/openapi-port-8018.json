{"openapi":"3.1.0","info":{"title":"Service Quản lý Cư dân (Residents Service)","version":"0.1.0"},"paths":{"/api/v1/residents/search":{"get":{"tags":["residents"],"summary":"Search citizens by name or CCCD number","operationId":"search_nhankhau_api_v1_residents_search_get","security":[{"RemoteBearer":[]}],"parameters":[{"name":"q","in":"query","required":true,"schema":{"type":"string","description":"Query string to search by name or CCCD number","title":"Q"},"description":"Query string to search by name or CCCD number"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/residents/count":{"get":{"tags":["residents"],"summary":"Count total citizens","operationId":"count_nhankhau_api_v1_residents_count_get","security":[{"RemoteBearer":[]}],"parameters":[{"name":"to_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ID tổ dân phố","title":"To Id"},"description":"ID tổ dân phố"},{"name":"phuong_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ID phường xã","title":"Phuong Id"},"description":"ID phường xã"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/residents/":{"post":{"tags":["residents"],"summary":"Create new citizen","operationId":"create_nhankhau_api_v1_residents__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NhankhauCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"RemoteBearer":[]}]}},"/api/v1/residents/{id}":{"get":{"tags":["residents"],"summary":"Get citizen information with ID","operationId":"get_nhankhau_detail_api_v1_residents__id__get","security":[{"RemoteBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["residents"],"summary":"Update citizen information","operationId":"update_nhankhau_api_v1_residents__id__put","security":[{"RemoteBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NhankhauUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["residents"],"summary":"Soft delete a citizen with ID","operationId":"delete_nhankhau_api_v1_residents__id__delete","security":[{"RemoteBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/residents/{id}/lich-su-bien-dong":{"get":{"tags":["residents"],"summary":"Get movement logs of a citizen","operationId":"get_nhankhau_movement_logs_api_v1_residents__id__lich_su_bien_dong_get","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/households/count":{"get":{"tags":["households"],"summary":"Count total households","operationId":"count_hokhau_api_v1_households_count_get","security":[{"RemoteBearer":[]}],"parameters":[{"name":"to_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ID tổ","title":"To Id"},"description":"ID tổ"},{"name":"phuong_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ID phường","title":"Phuong Id"},"description":"ID phường"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/households/":{"get":{"tags":["households"],"summary":"Get household list","operationId":"get_hokhau_list_api_v1_households__get","security":[{"RemoteBearer":[]}],"parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Tìm kiếm theo tên chủ hộ hoặc địa chỉ","title":"Q"},"description":"Tìm kiếm theo tên chủ hộ hoặc địa chỉ"},{"name":"phuong_xa","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Lọc theo phường/xã","title":"Phuong Xa"},"description":"Lọc theo phường/xã"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["households"],"summary":"Create new household","operationId":"create_hokhau_api_v1_households__post","security":[{"RemoteBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HokhauCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/households/{id}":{"get":{"tags":["households"],"summary":"Get household information with ID","operationId":"get_hokhau_detail_api_v1_households__id__get","security":[{"RemoteBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["households"],"summary":"Update household information","operationId":"update_hokhau_api_v1_households__id__put","security":[{"RemoteBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HokhauUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["households"],"summary":"Soft delete a household with ID","operationId":"delete_hokhau_api_v1_households__id__delete","security":[{"RemoteBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HokhauCreate":{"properties":{"household_number":{"type":"string","maxLength":50,"title":"Household Number","description":"Số hộ khẩu"},"head_of_household_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Head Of Household Id","description":"ID của chủ hộ"},"address":{"type":"string","maxLength":255,"title":"Address","description":"Địa chỉ"},"ward":{"type":"string","maxLength":100,"title":"Ward","description":"Tên phường/xã"}},"type":"object","required":["household_number","address","ward"],"title":"HokhauCreate"},"HokhauUpdate":{"properties":{"household_number":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Household Number","description":"Số hộ khẩu"},"head_of_household_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Head Of Household Id","description":"ID của chủ hộ"},"address":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Address","description":"Địa chỉ"},"ward":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Ward","description":"Tên phường/xã"},"scope_id":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Scope Id","description":"ID của tổ/phường"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","title":"HokhauUpdate"},"NhankhauCreate":{"properties":{"household_id":{"type":"string","format":"uuid","title":"Household Id","description":"ID hộ khẩu của nhân khẩu"},"full_name":{"type":"string","maxLength":100,"title":"Full Name","description":"Họ và tên"},"date_of_birth":{"type":"string","format":"date","title":"Date Of Birth","description":"Ngày sinh","example":"2005-09-02"},"place_of_birth":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Place Of Birth","description":"Nơi sinh"},"hometown":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Hometown","description":"Nguyên quán"},"ethnicity":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Ethnicity","description":"Dân tộc"},"occupation":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Occupation","description":"Nghề nghiệp"},"workplace":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Workplace","description":"Nơi làm việc"},"cccd_number":{"type":"string","maxLength":12,"title":"Cccd Number","description":"Số CCCD"},"cccd_issue_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cccd Issue Date","description":"Ngày cấp CCCD","example":"2020-01-15"},"cccd_issue_place":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Cccd Issue Place","description":"Nơi cấp CCCD"},"residence_registration_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Residence Registration Date","description":"Ngày đăng ký thường trú","example":"2020-01-15"},"relationship_to_head":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Relationship To Head","description":"Quan hệ với chủ hộ"}},"type":"object","required":["household_id","full_name","date_of_birth","cccd_number"],"title":"NhankhauCreate"},"NhankhauUpdate":{"properties":{"household_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Household Id","description":"ID hộ khẩu của nhân khẩu"},"full_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Full Name","description":"Họ và tên"},"date_of_birth":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date Of Birth","description":"Ngày sinh","example":"2005-09-02"},"place_of_birth":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Place Of Birth","description":"Nơi sinh"},"hometown":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Hometown","description":"Nguyên quán"},"ethnicity":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Ethnicity","description":"Dân tộc"},"occupation":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Occupation","description":"Nghề nghiệp"},"workplace":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Workplace","description":"Nơi làm việc"},"cccd_number":{"anyOf":[{"type":"string","maxLength":12},{"type":"null"}],"title":"Cccd Number","description":"Số CCCD"},"cccd_issue_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cccd Issue Date","description":"Ngày cấp CCCD","example":"2020-01-15"},"cccd_issue_place":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Cccd Issue Place","description":"Nơi cấp CCCD"},"residence_registration_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Residence Registration Date","description":"Ngày đăng ký thường trú","example":"2020-01-15"},"relationship_to_head":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Relationship To Head","description":"Quan hệ với chủ hộ"}},"type":"object","title":"NhankhauUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"RemoteBearer":{"type":"http","scheme":"bearer"}}}}